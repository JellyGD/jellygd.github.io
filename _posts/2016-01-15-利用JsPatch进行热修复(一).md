---
layout:     post
title:      利用JsPatch 进行热修复 一
date:       2016-1-15 14:39:20
author:     Jelly
summary:    jsPath, 热修复,bug
categories: jekyll
 
---

###【iOS热修补技术JSPatch】一

-----
#####前提：

在App已经上线，在线上运营的过程中，突然发现有一个bug导致闪退率提高了很多需要紧急修复，但是苹果又需要您提审，虽然可以提审加急，但是每个APP都是有次数限制的。

在遇到这种情况之下需要如何处理呢？ 

。

。

。

下面是一种解决方案。

-------------------------

利用JSPatch进行代码热修复功能， 什么是JSPatch？[JSpatch Github 地址](https://github.com/bang590/JSPatch)

JSPatch 是一个 iOS 动态更新框架，只需在项目中引入极小的引擎，就可以使用 JavaScript 调用任何 Objective-C 原生接口，获得脚本语言的优势：为项目动态添加模块，或替换项目原生代码动态修复 bug。

-----------

####JSPatch 的原理

---------

JSPatch核心主要是JSBinding和Objective-C中的runtime技术。一方面，它采用Apple在iOS7中发布的JavaScriptCore.framework作为Javascript引擎解析JavaScript脚本，执行JavaSript代码并与Objective-C端的代码进行桥接。另一方面则是使用Objective-C runtime中的method swizzling的方式达到使用JavaScript脚本动态替换原有Objective-C方法的目的，并利用ForwardInvocation标准消息转发机制使得在JavaScript脚本中调用Objective-C的方法成为可能。


-------


####如何部署？



未完待续













